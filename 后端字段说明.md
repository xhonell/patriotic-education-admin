# åç«¯ LoginRequest å­—æ®µè¯´æ˜

## ğŸ“‹ å­—æ®µå®šä¹‰

### LoginRequest å®ä½“ç±»
```java
public class LoginRequest {
    @Email(message = "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®")
    @NotBlank(message = "é‚®ç®±ä¸èƒ½ä¸ºç©º")
    private String email;
    
    @NotBlank(message = "å¯†ç ä¸èƒ½ä¸ºç©º")
    @Size(min = 6, max = 20, message = "å¯†ç é•¿åº¦åº”åœ¨6-20ä¸ªå­—ç¬¦ä¹‹é—´")
    private String password;
}
```

## âœ… å‰ç«¯å¯¹åº”ä¿®æ”¹

### 1. ç™»å½•è¡¨å•å­—æ®µ
```javascript
const loginForm = reactive({
  email: 'admin@example.com',     // æ”¹ä¸º email
  password: '123456',
  remember: true
})
```

### 2. è¡¨å•éªŒè¯è§„åˆ™
```javascript
const loginRules = {
  email: [
    { required: true, message: 'è¯·è¾“å…¥é‚®ç®±', trigger: 'blur' },
    { type: 'email', message: 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®', trigger: ['blur', 'change'] }
  ],
  password: [
    { required: true, message: 'è¯·è¾“å…¥å¯†ç ', trigger: 'blur' },
    { min: 6, max: 20, message: 'å¯†ç é•¿åº¦åº”åœ¨6-20ä¸ªå­—ç¬¦ä¹‹é—´', trigger: 'blur' }
  ]
}
```

### 3. ç™»å½•è¯·æ±‚æ•°æ®
```javascript
const token = await login({
  email: loginForm.email,      // å‘é€ email å­—æ®µ
  password: loginForm.password
})
```

## ğŸ“¤ è¯·æ±‚ç¤ºä¾‹

### JSON æ ¼å¼
```json
{
  "email": "admin@example.com",
  "password": "123456"
}
```

### curl æµ‹è¯•
```bash
curl -X POST http://localhost:8801/admin/login/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@example.com",
    "password": "123456"
  }'
```

### Postman æµ‹è¯•
```
POST http://localhost:8801/admin/login/login
Content-Type: application/json

Body (raw JSON):
{
  "email": "admin@example.com",
  "password": "123456"
}
```

## ğŸ” å­—æ®µéªŒè¯è§„åˆ™

### email å­—æ®µ
- âœ… **å¿…å¡«**ï¼šä¸èƒ½ä¸ºç©º
- âœ… **æ ¼å¼**ï¼šå¿…é¡»ç¬¦åˆé‚®ç®±æ ¼å¼ï¼ˆå¦‚ï¼šuser@example.comï¼‰
- âœ… **ç¤ºä¾‹**ï¼š
  - âœ“ `admin@example.com`
  - âœ“ `user123@qq.com`
  - âœ— `admin` ï¼ˆæ ¼å¼é”™è¯¯ï¼‰
  - âœ— `admin@` ï¼ˆæ ¼å¼é”™è¯¯ï¼‰

### password å­—æ®µ
- âœ… **å¿…å¡«**ï¼šä¸èƒ½ä¸ºç©º
- âœ… **é•¿åº¦**ï¼š6-20ä¸ªå­—ç¬¦
- âœ… **ç¤ºä¾‹**ï¼š
  - âœ“ `123456` ï¼ˆ6ä½ï¼Œç¬¦åˆè¦æ±‚ï¼‰
  - âœ“ `password123` ï¼ˆ11ä½ï¼Œç¬¦åˆè¦æ±‚ï¼‰
  - âœ— `12345` ï¼ˆ5ä½ï¼Œå¤ªçŸ­ï¼‰
  - âœ— `123456789012345678901` ï¼ˆ21ä½ï¼Œå¤ªé•¿ï¼‰

## âš ï¸ å¸¸è§é”™è¯¯

### é”™è¯¯1ï¼šå­—æ®µåä¸åŒ¹é…
```json
// âŒ é”™è¯¯ï¼šä½¿ç”¨ username
{
  "username": "admin",
  "password": "123456"
}

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ email
{
  "email": "admin@example.com",
  "password": "123456"
}
```

### é”™è¯¯2ï¼šé‚®ç®±æ ¼å¼é”™è¯¯
```json
// âŒ é”™è¯¯ï¼šä¸æ˜¯é‚®ç®±æ ¼å¼
{
  "email": "admin",
  "password": "123456"
}

// âœ… æ­£ç¡®ï¼šæ ‡å‡†é‚®ç®±æ ¼å¼
{
  "email": "admin@example.com",
  "password": "123456"
}
```

### é”™è¯¯3ï¼šå¯†ç é•¿åº¦ä¸ç¬¦
```json
// âŒ é”™è¯¯ï¼šå¯†ç å¤ªçŸ­
{
  "email": "admin@example.com",
  "password": "123"
}

// âœ… æ­£ç¡®ï¼š6-20ä½
{
  "email": "admin@example.com",
  "password": "123456"
}
```

## ğŸ“ åç«¯éªŒè¯é”™è¯¯ä¿¡æ¯

### é‚®ç®±ç›¸å…³é”™è¯¯
```json
{
  "code": 400,
  "message": "é‚®ç®±ä¸èƒ½ä¸ºç©º"
}

{
  "code": 400,
  "message": "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"
}
```

### å¯†ç ç›¸å…³é”™è¯¯
```json
{
  "code": 400,
  "message": "å¯†ç ä¸èƒ½ä¸ºç©º"
}

{
  "code": 400,
  "message": "å¯†ç é•¿åº¦åº”åœ¨6-20ä¸ªå­—ç¬¦ä¹‹é—´"
}
```

## âœ… ä¿®æ”¹æ¸…å•

å·²å®Œæˆçš„å‰ç«¯ä¿®æ”¹ï¼š

- [x] ç™»å½•è¡¨å•å­—æ®µï¼š`username` â†’ `email`
- [x] è¾“å…¥æ¡†ç±»å‹ï¼š`type="email"`
- [x] å›¾æ ‡ï¼š`<User />` â†’ `<Message />`
- [x] å ä½ç¬¦ï¼š`è¯·è¾“å…¥ç”¨æˆ·å` â†’ `è¯·è¾“å…¥é‚®ç®±`
- [x] éªŒè¯è§„åˆ™ï¼šæ·»åŠ é‚®ç®±æ ¼å¼éªŒè¯
- [x] å¯†ç éªŒè¯ï¼š`min: 6, max: 20`
- [x] è¯·æ±‚æ•°æ®ï¼šå‘é€ `email` å­—æ®µ
- [x] LocalStorageï¼š`username` â†’ `email`
- [x] API æ³¨é‡Šï¼šæ›´æ–°å­—æ®µè¯´æ˜

## ğŸš€ æµ‹è¯•æ­¥éª¤

1. **å¯åŠ¨åç«¯**ï¼ˆ8801ç«¯å£ï¼‰
2. **å¯åŠ¨å‰ç«¯**ï¼š`npm run dev`
3. **æ‰“å¼€é¡µé¢**ï¼šhttp://localhost:3000
4. **è¾“å…¥é‚®ç®±**ï¼šadmin@example.com
5. **è¾“å…¥å¯†ç **ï¼š123456
6. **ç‚¹å‡»ç™»å½•**

### æˆåŠŸæ ‡å¿—
- âœ… è¡¨å•éªŒè¯é€šè¿‡
- âœ… è¯·æ±‚å‘é€æˆåŠŸ
- âœ… è¿”å› token
- âœ… è·³è½¬é¦–é¡µ

---

**å­—æ®µå·²ä¿®æ”¹å®Œæˆï¼Œè¯·ä½¿ç”¨é‚®ç®±æ ¼å¼ç™»å½•ï¼** ğŸ“§

